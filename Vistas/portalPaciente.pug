doctype html
include navbar.pug
html(lang="es")
  head
    meta(charset="UTF-8")
    meta(name="viewport" content="width=device-width, initial-scale=1.0")
    title Portal del Paciente
    link(rel="stylesheet", href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css")
    style.
      body {
        background-color: #f0f4f8;
      }
      .left-panel {
        background-color: #ffffff;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      }
      .right-panel {
        background-color: #ffffff;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        overflow-x: auto;
      }

  body
    
    +navbar

    .container.mt-5
      h2.text-center.mb-5 Portal del Paciente

      .row
        // Columna izquierda: Info + botones
        .col-md-4
          .left-panel
            h4 Información Básica
            p
              strong ID: 
              | #{paciente.id}
            p
              strong Nombre: 
              | #{paciente.nombre}
            p
              strong Apellido: 
              | #{paciente.apellido}

            hr

            .d-grid.gap-2
              a.btn.btn-outline-primary(href=`/pacientes/${paciente.id}/editar`) Editar Información
              a.btn.btn-outline-success(href=`/pacientes/${paciente.id}/turnos/nuevo`) Asignar Nuevo Turno
              a.btn.btn-outline-danger(href=`/pacientes/${paciente.id}/baja`) Dar de Baja

        // Columna derecha: Tabla de turnos
        .col-md-8
          .right-panel
            h4.mb-3 Turnos del Paciente
            if turnos.length > 0
              table.table.table-hover
                thead.table-light
                  tr
                    th Fecha
                    th Hora
                    th Especialidad
                    th Profesional
                    th Estado
                    th Acciones
                tbody
                  each turno in turnos
                    tr
                      td #{turno.fecha}
                      td #{turno.hora}
                      td #{turno.especialidad}
                      td #{turno.profesional}
                      td #{turno.estado}
                      td
                        a.btn.btn-sm.btn-success.me-1(href=`/turnos/${turno.id}/editar`) Admitir 
                        a.btn.btn-sm.btn-danger(href=`/turnos/${turno.id}/cancelar`) Cancelar
            else
              p.text-muted No hay turnos asignados.

    script(src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js")