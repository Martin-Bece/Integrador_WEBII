doctype html
html(lang="es")
  head
    meta(charset="UTF-8")
    meta(name="viewport" content="width=device-width, initial-scale=1.0")
    title Historia Clínica
    link(rel="stylesheet", href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css")
    style.
      body {
        background-color: #f0f4f8;
      }
      .left-panel, .right-panel {
        background-color: #ffffff;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      }

  body
    include navbar.pug
    +navbar

    .container.mt-5
      h2.text-center.mb-5 Historia Clínica

      .row
        .col-md-4
          .left-panel
            h4 Información Del Paciente
            p
              strong ID: 
              | #{paciente.idPaciente}
            p
              strong Nombre: 
              | #{paciente.nombre}
            p
              strong Apellido: 
              | #{paciente.apellido}
            p
              strong DNI: 
              | #{paciente.dni}

        .col-md-8
          .right-panel
            form(action=`/medicos/guardarHistoria/${paciente.dni}` method="POST")
              .mb-3
                label.form-label(for="observacion") Nueva Observación
                textarea.form-control(name="observacion" id="observacion" rows="6" placeholder="Registre aquí la evolución, procedimientos o notas sobre el paciente") 
              button.btn.btn-primary(type="submit") Agregar a Historia Clínica

            hr

            h5 Registros Anteriores
            if historia.length > 0
              ul.list-group
                each registro in historia
                  li.list-group-item
                    small.text-muted #{registro.fecha} 
                    br
                    | #{registro.observacion}
            else
              p.text-muted No hay registros aún.

    script(src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js")
