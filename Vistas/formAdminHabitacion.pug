doctype html
include navbar.pug
html(lang="es")
  head
    meta(charset="UTF-8")
    meta(name="viewport" content="width=device-width, initial-scale=1.0")
    title= habitacion ? 'Editar Habitación' : 'Nueva Habitación'
    link(rel="stylesheet", href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css")
    link(rel="stylesheet", href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css")
    style.
      body {
        background-color: #f0f4f8;
      }
      .form-container {
        max-width: 600px;
        margin: 50px auto;
        background: white;
        padding: 30px;
        border-radius: 12px;
        box-shadow: 0 8px 20px rgba(0,0,0,0.1);
      }

  body
    +navbar

    div.form-container
      h2.text-center.mb-4= habitacion ? 'Editar Habitación' : 'Nueva Habitación'

      if error
        div.alert.alert-danger.text-center= error

      form(method="post" action=habitacion ? `/admin/habitaciones/editar/${habitacion.idHabitacion}` : '/admin/habitaciones/nuevo')
        
        div.mb-3
          label.form-label(for="ala_id") Ala
          select.form-select(name="ala_id" id="ala_id" required=true)
            option(value="" disabled selected=!(habitacion)) Seleccione un ala
            each ala in alas
              option(value=ala.idAla selected=habitacion && habitacion.ala_id===ala.idAla)= ala.nombre

        div.mb-3
          label.form-label(for="unidad_id") Unidad
          select.form-select(name="unidad_id" id="unidad_id" required=true)
            option(value="" disabled selected=!(habitacion)) Seleccione una unidad
            each unidad in unidades
              option(value=unidad.idUnidad selected=habitacion && habitacion.unidad_id===unidad.idUnidad)= unidad.nombre

        div.mb-3
          label.form-label(for="numero") Número
          input.form-control(type="number", name="numero", id="numero", required=true, value=habitacion ? habitacion.numero : '')

        div.mb-3
          label.form-label(for="capacidad") Capacidad
          input.form-control(type="number", name="capacidad", id="capacidad", required=true, value=habitacion ? habitacion.capacidad : '')

        div.text-center.mt-4
          button.btn.btn-primary(type="submit")= habitacion ? 'Guardar Cambios' : 'Crear Habitación'
          a.btn.btn-secondary.ms-2(href="/admin/habitaciones") Cancelar

    script(src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js")
