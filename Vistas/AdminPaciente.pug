doctype html
include navbar.pug
html(lang="es")
  head
    meta(charset="UTF-8")
    title Lista de Pacientes
    link(rel="stylesheet", href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css")
    link(rel="stylesheet", href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css")
  body
    +navbar
    .container.mt-5
      h2.text-center.mb-4 Lista de Pacientes

      .d-flex.justify-content-between.align-items-center.mb-3
        a.btn.btn-primary(href="/admin/pacientes/nuevo")
          i.bi.bi-person-plus-fill.me-1
          | Nuevo Paciente

        form(method="get" action="/admin/pacientes" class="d-flex")
          input.form-control.me-2(type="search", name="dni", placeholder="Buscar por DNI o nombre")
          button.btn.btn-outline-secondary(type="submit") Buscar

      if pacientes.length > 0
        table.table.table-hover.shadow-sm
          thead.table-light
            tr
              th ID
              th DNI
              th Nombre
              th Apellido
              th Fecha Nac.
              th Teléfono
              th Dirección
              th Acciones
          tbody
            each paciente in pacientes
              tr
                td= paciente.idPaciente
                td= paciente.dni
                td= paciente.nombre
                td= paciente.apellido
                td= paciente.fechaNacimiento
                td= paciente.telefono
                td= paciente.direccion
                td
                  a.btn.btn-sm.btn-warning.me-2(href=`/admin/pacientes/editar/${paciente.idPaciente}`)
                    i.bi.bi-pencil-fill
                  a.btn.btn-sm.btn-danger(href=`/admin/pacientes/eliminar/${paciente.idPaciente}`)
                    i.bi.bi-trash-fill
      else
        p.text-muted.text-center No hay pacientes cargados.
